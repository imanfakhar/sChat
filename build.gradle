apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'eclipse'

def applicationName = 'sChat'

sourceCompatibility = 1.7
version = '1.0'

mainClassName = 'de.sChat.client.Client'

def junitversion = '4.+'
def mockitoversion = '1.+'
def jettyversion = "9.2.+"

repositories {
	mavenCentral()
	jcenter()
	flatDir {
       dirs 'libs'
   }
}

dependencies {
	compile group: 'org.eclipse.jetty', name: 'jetty-server', version: jettyversion
	compile name: 'jsEventBus'
	
	testCompile group: 'junit', name: 'junit', version: junitversion
	testCompile group: 'org.mockito', name: 'mockito-core', version: mockitoversion
}

task myJavadocs(type: Javadoc) {    
    source = sourceSets.main.allJava
    options.memberLevel = JavadocMemberLevel.PUBLIC
    classpath = configurations.compile
    destinationDir = file("./doc/")
  }

jar {
    manifest {
        attributes 'Implementation-Title': applicationName,
                   'Implementation-Version': version,
                   'Main-Class': mainClassName
    }
}

uploadArchives {
    repositories {
       flatDir {
           dirs 'compiled'
       }
    }
}
